/* Copyright (c) 2011-2013 Richard Rodger, MIT License, https://github.com/rjrodger/tagx */
(function(){"use strict";function e(e){var r=/^[ ,]*(.*?)[ ,]*$/g,n=/[ ,]+/g,t=r.exec(e),a=t&&t[1]||"",i=a.split(n);return i=f.filter(i,function(e){return 0<e.length})}function r(e,r){var n=!0,t=!0,a=!1,i=e,o="!"+e;"!"==i[0]&&(t=!1,a=!0,o=i,i=i.substring(1));for(var c=0;c<r.length;c++)if(t){if(i==r[c]){n=!1;break}if(o==r[c]){r.splice(c,1),n=!1;break}}else if(a){if(i==r[c]){r.splice(c,1),n=!1;break}if(o==r[c]){n=!1;break}}n&&r.push(e)}function n(t,a,i){t["case"]=void 0==t["case"]?!0:!!t["case"],t.clean=void 0==t.clean?!0:!!t.clean,i=i||{};var o=[];if(f.each(a,function(a){var c=e(a);if(t["case"]||(c=f.map(c,function(e){return e.toLowerCase()})),t.expand)for(var u=0;u<c.length;u++)if(!i[c[u]]){var s=t.expand[c[u]];if(s){s=f.isArray(s)?s:[s],i[c[u]]=!0;var l=n({clean:!1,seen:i},s);c.splice(u,1,l),c=f.flatten(c),u+=l.length-2}}f.each(c,function(e){r(e,o)})}),t.clean)for(var c=0;c<o.length;c++)"!"==o[c][0]&&(o.splice(c,1),c--);return o}function t(e,r){r=f.filter(r,function(e){return f.isString(e)});var t=f.clone(e);if(f.isObject(t.expand)){var i=a({clean:!1});f.each(t.expand,function(e,r){t.expand[r]=i(e)})}return function(){var e=r.concat(f.filter(Array.prototype.slice.call(arguments),function(e){return f.isString(e)}));return n(t,e)}}function a(){var e=arguments[0];return f.isObject(e)?t(arguments[0],Array.prototype.slice.call(arguments,1)):t({},Array.prototype.slice.call(arguments))()}var i=this,o=i.tagx,c="undefined"!=typeof require,f=i._;if("undefined"==typeof f){if(!c)throw new Error("tagx requires lodash, see http://lodash.com");f=require("lodash")}a.noConflict=function(){return i.tagx=o,a},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.tagx=a):i.tagx=a}).call(this);
//# sourceMappingURL=tagx-min.map